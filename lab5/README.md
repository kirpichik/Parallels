
# Лабораторная работа 5

http://ssd.sscc.ru/ru/content/opplabs/loadbalancing

## Описание протокола

Коммуникации между процессами осуществляются при помощи MPI_Send/MPI_Recv
в виде массивов `char`.

### Струкрура пакета

Пакет состоит из двух частей:

1. Тип пакета - всегда первый `char`
2. Полезная нагрузка пакета - произвольное количество символов, в зависимости
от типа пакета.

### Типы пакетов

В скобках, рядом с названием пакета, указан его тег.

#### Request Task (123)

Данный пакет всегда открывает коммуникацию процессов и является вопросом к
принимающей стороне: имеется ли у тебя задача, которую ты еще не выполнил и
могу ли я ее взять?

В полезной нагрузке данного пакета хранится номер процесса, запросившего задачу
в виде двух `char`.

Ответом на данный пакет является, либо **No Tasks**, либо **Share Task**.

#### Finish (123)

Данный пакет означает завершение процесса приема сообщений и отправляется
каждым процессом самому себе.

В полезной нагрузке данного пакета хранится два `char`,
для обеспечения совместимости по тегу.

#### No Tasks (321)

Данный пакет означает, что у запрашиваемой стороны нет задач, которые она могла
бы отдать.

В полезной нагрузке содержится восемь `char` для совместимости по тегу.

#### Share Task (321)

Данный пакет означает, что запрашиваемая сторона имеет свободную задачу и прямо
сейчас передает ее.

Полезной нагрузкой данного пакета является параметр задачи (число повторений)
и представляется в виде восьми `char`.

